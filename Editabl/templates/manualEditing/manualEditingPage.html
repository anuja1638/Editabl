{% load static %}
<html>

<head>
    <title>
        Manual Editing | Editabl
    </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Redressed&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="{% static 'manualEditing/css/styles.css' %}">
    <link rel="stylesheet" href="{% static 'manualEditing/css/slider.css' %}">

    <link rel="stylesheet" href="./css/styles.css">
    <link rel="stylesheet" href="./css/slider.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>


</head>

<body>
    <!-- Navbar -->
    <nav id="navbar" class="navbar navbar-light bg-light align-items-center">
        <div class="container-fluid justify-content-between">
            <a class="navbar-brand" href="{%url 'authentication:homePageUrl'%}"><img src="{% static 'manualEditing/images/Editabl-Logo.png' %}" alt="Editabl-Logo"></a>
            <div id="nav-center-buttons">
                <button class="btn p-0 m-0"><i class="bi bi-arrow-return-left p-2 pt-0 "></i></button>
                <button class="btn p-0 m-0"><i class="bi bi-trash "></i></button>
                <button class="btn p-0 m-0"><i class="bi bi-arrow-return-right p-2 pt-0 "></i></button>
            </div>

            <div>
                <form class="container-fluid justify-content-start m-0 p-0">
                    <button class="btn btn-sm btn-outline-success me-2" type="button" data-bs-toggle="modal"
                        data-bs-target="#saveModal">Save<i class="bi bi-download p-2 pt-0"></i></button>
                    <button class="btn btn-sm btn-outline-secondary" type="button" data-bs-toggle="modal"
                        data-bs-target="#shareModal">Share<i class="bi bi-share  p-2 pt-0"></i></button>

                </form>
            </div>

        </div>
    </nav>

    <!-- Body -->
    <div class="row">

        <!-- Image Container -->
        <div id="image-container" class="col fill-space">
            <div class="row fill-space">
                <div class="col d-none d-md-block"></div>
                <div id="canvas-container"
                    class="col-12 col-md-11 py-4 py-md-2 image-canvas d-flex flex-column justify-content-center align-items-center">
                    <canvas id="canvas" class="main-image"></canvas>
                    <div class="mt-5">
                        <button id='resetbtn' class="btn btn-success btn-sm">Reset Image</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Button Bar -->
        <div id="button-bar" class="col-12 col-md-1 px-0 p-0 order-md-first">
            <div class="fill-space ">
                <div
                    class="d-flex flex-md-column align-items-md-stretch flex-grow-1 align-items-center justify-content-evenly pb-0">

                    <button id="crop" type="button" class="btn py-3 px-md-0 button-bar-btn"><i
                            class="bi bi-crop icon-size"></i></button>
                    <button id="resize" type="button" class="btn  py-3 px-md-0 button-bar-btn"><i
                            class="bi bi-aspect-ratio icon-size"></i></button>
                    <button id="adjust" type="button" class="btn  py-3 px-md-0 button-bar-btn"><i
                            class="bi bi-sliders icon-size"></i></button>
                    <button id="effects" type="button" class="btn py-3 px-md-0 button-bar-btn"><svg fill="currentColor"
                            data-v-445363d5="" version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px"
                            viewBox="0 0 24 24" xml:space="preserve" class="_2Xy1u button-icon">
                            <path fill="currentColor" data-v-445363d5=""
                                d="M16,8.9V3.3C16,2.6,15.4,2,14.7,2H9.3C8.6,2,8,2.6,8,3.3v5.6C8,9,8,9,8,9.1L2.3,19.5C2,20,2,20.6,2.4,21.1	c0.4,0.5,1.1,0.9,2,0.9h15.3c0.5,0,1-0.1,1.4-0.4c0.8-0.5,1-1.6,0.5-2.4L16,9.1C16,9,16,9,16,8.9z M9.8,10L10,9.5V9V4.3	C10,4.1,10.1,4,10.3,4h3.4C13.9,4,14,4.1,14,4.3V9v0.5l0.2,0.4l1.3,2.3C15,12.1,14.4,12,13.8,12c-1.2,0-2.2,0.5-3,1.4	c-0.4,0.5-1.1,1.1-1.8,1c-0.7-0.1-1.3-0.9-1.3-0.9l0,0L9.8,10z">
                            </path>
                        </svg></button>
                    <button id="text" type="button" class="btn  py-3 px-md-0 button-bar-btn"><i
                            class="bi bi-fonts icon-size" style="font-size: xx-large"></i></button>
                    <button id="draw" type="button" class="btn divider py-3 button-bar-btn"><i
                            class="bi bi-vector-pen icon-size"></i></button>
                    <!-- divider icon  -->
                    <div class="vr mt-auto mb-auto"></div>
                    <!-- AI Editing Buttons -->
                    <button id="ai-1" type="button" class="btn py-3 px-md-0 button-bar-btn"><i
                            class="bi bi-bounding-box icon-size"></i></button>
                    <button id="ai-2" type="button" class="btn divider py-3 px-md-0 button-bar-btn"><i
                            class="bi bi-bounding-box icon-size"></i></button>

                    <script>
                        $('.button-bar-btn').on('click', function () {
                            $('.button-bar-btn').removeClass('active');
                            $(this).addClass('active');
                        });
                    </script>

                </div>
            </div>
        </div>

        <!-- Right Panel -->
        <div id="right-panel" class="col-12 col-md-3 px-4 ps-md-3 pe-md-4 fill-space ">
            <div id="default">
                <div id="name" class="panel-header">
                    <h3 class="py-3 ps-1 border-bottom border-2 mb-4 h4">Select a Tool</h3>
                </div>
            </div>

            <!-- Adjust Panel -->
            <div id="adjust_panel">
                <div id="name" class="panel-header">
                    <h3 class="py-3 ps-1 border-bottom border-2 mb-4">Adjust</h3>
                </div>
                <div class="panel-content">
                    <div class="mb-3">
                        <label for="brightness-slider" class="small">Brightness</label>
                        <div class="range-slider">
                            <input class="range-slider__value" type="number" id="brightness" name="brightness" value="0"
                                min="-100" max="100" onchange="set_val(this.value,'brightness-slider')">
                            <input id="brightness-slider" name="brightness-slider" class="range-slider__range"
                                type="range" value="0" min="-100" max="100"
                                onchange="show_val(this.value,'brightness')">
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="contrast-slider" class="small">Contrast</label>
                        <div class="range-slider">
                            <input class="range-slider__value" type="number" id="contrast" name="contrast" value="0"
                                min="-50" max="50" onchange="set_val(this.value,'contrast-slider')">
                            <input id="contrast-slider" name="contrast-slider" class="range-slider__range" type="range"
                                value="0" min="-50" max="50" onchange="show_val(this.value,'contrast')">
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="saturation-slider" class="small">Saturation</label>
                        <div class="range-slider">
                            <input class="range-slider__value" type="number" id="saturation" name="saturation" value="0"
                                min="-100" max="100" onchange="set_val(this.value,'saturation-slider')">
                            <input id="saturation-slider" name="saturation-slider" class="range-slider__range"
                                type="range" value="0" min="-100" max="100"
                                onchange="show_val(this.value,'saturation')">
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="noise-slider" class="small">Noise</label>
                        <input class="range-slider__value" type="number" id="noise" name="noise" value="0" min="0"
                            max="100" onchange="set_val(this.value,'noise-slider')">
                        <div class="range-slider">
                            <input id="noise-slider" name="noise-slider" class="range-slider__range" type="range"
                                value="0" min="0" max="100" onchange="show_val(this.value,'noise')">
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="hue-slider" class="small">Hue</label>
                        <input class="range-slider__value" type="number" id="hue" name="hue" value="0" min="0" max="400"
                            step="4" onchange="set_val(this.value,'hue-slider')">
                        <div class="range-slider">
                            <input id="hue-slider" name="hue-slider" class="range-slider__range" type="range" value="0"
                                min="0" max="100" step="2" onchange="show_val(this.value,'hue')">
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="vibrance-slider" class="small">Vibrance</label>
                        <input class="range-slider__value" type="number" id="vibrance" name="vibrance" value="0"
                            min="-100" max="100" onchange="set_val(this.value,'vibrance-slider')">
                        <div class="range-slider">
                            <input id="vibrance-slider" name="vibrance-slider" class="range-slider__range" type="range"
                                value="0" min="-100" max="100" onchange="show_val(this.value,'vibrance')">
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="exposure-slider" class="small">Exposure</label>
                        <input class="range-slider__value" type="number" id="exposure" name="exposure" value="0"
                            min="-100" max="100" onchange="set_val(this.value,'exposure-slider')">
                        <div class="range-slider">
                            <input id="exposure-slider" name="exposure-slider" class="range-slider__range" type="range"
                                value="0" min="-100" max="100" onchange="show_val(this.value,'exposure')">
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="sharpen-slider" class="small">Sharpen</label>
                        <input class="range-slider__value" type="number" id="sharpen" name="sharpen" value="0" min="0"
                            max="100" onchange="set_val(this.value,'sharpen-slider')">
                        <div class="range-slider">
                            <input id="sharpen-slider" name="sharpen-slider" class="range-slider__range" type="range"
                                value="0" min="0" max="100" onchange="show_val(this.value,'sharpen')">
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="sepia-slider" class="small">Sepia</label>
                        <input class="range-slider__value" type="number" id="sepia" name="sepia" value="0" min="0"
                            max="100" onchange="set_val(this.value,'sepia-slider')">
                        <div class="range-slider">
                            <input id="sepia-slider" name="sepia-slider" class="range-slider__range" type="range"
                                value="0" min="0" max="100" onchange="show_val(this.value,'sepia')">
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="clip-slider" class="small">Clip</label>
                        <input class="range-slider__value" type="number" id="clip" name="clip" value="0" min="0"
                            max="100" onchange="set_val(this.value,'clip-slider')">
                        <div class="range-slider">
                            <input id="clip-slider" name="clip-slider" class="range-slider__range" type="range"
                                value="0" min="0" max="100" onchange="show_val(this.value,'clip')">
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="stackBlur-slider" class="small">Blur</label>
                        <div class="range-slider">
                            <input class="range-slider__value" type="number" id="stackBlur" name="stackBlur" value="0"
                                min="0" max="20" step="0.2" onchange="set_val(this.value,'stackBlur-slider')">
                            <input id="stackBlur-slider" name="stackBlur-slider" class="range-slider__range"
                                type="range" value="0" min="0" max="20" step="0.2"
                                onchange="show_val(this.value,'stackBlur')">
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="gamma-slider" class="small">Gamma</label>
                        <input class="range-slider__value" type="number" id="gamma" name="gamma" value="1" min="0.1"
                            max="20" step="0.1" onchange="set_val(this.value,'gamma-slider')">
                        <div class="range-slider">
                            <input id="gamma-slider" name="gamma-slider" class="range-slider__range" type="range"
                                value="1" min="0.1" max="20" step="0.1" onchange="show_val(this.value,'gamma')">
                        </div>
                    </div>
                </div>
                <script>
                    function show_val(x, id) {
                        document.getElementById(id).value = x;
                    }

                    function set_val(x, id) {
                        document.getElementById(id).value = x;
                    }
                </script>

            </div>

            <!-- Effect Panel -->
            <div id="effect_panel">
                <div id="name" class="panel-header">
                    <h3 class="py-3 ps-1 border-bottom border-2 mb-4 panel-header">Effects</h3>
                </div>

                <div id="effects" class="effects d-flex flex-wrap justify-content-around">
                    <div class="md-3" id="claritybtn">
                        <button id="claritybtn" class="btn btn-primary">Clarity</button>
                    </div>

                    <div class="md-3" id="orangepeelbtn">
                        <button id="orangepeelbtn" class="btn btn-primary">Orange Peel</button>
                    </div>

                    <div class="md-3" id="sunrisebtn">
                        <button id="sunrisebtn" class="btn btn-primary">Sun Rise</button>
                    </div>

                    <div class="md-3" id="crossprocessbtn">
                        <button id="crossprocessbtn" class="btn btn-primary">Cross Process</button>
                    </div>

                    <div class="md-3" id="hdrbtn">
                        <button id="hdrbtn" class="btn btn-primary">HDR Effect</button>
                    </div>

                    <div class="md-3" id="vintagebtn">
                        <button id="vintagebtn" class="btn btn-primary">Vintage</button>
                    </div>

                    <div class="md-3" id="lomobtn">
                        <button id="lomobtn" class="btn btn-primary">Lomo</button>
                    </div>

                    <div class="md-3" id="lovebtn">
                        <button id="lovebtn" class="btn btn-primary">Love</button>
                    </div>

                    <div class="md-3" id="grungybtn">
                        <button id="grungybtn" class="btn btn-primary">Grungy</button>
                    </div>

                    <div class="md-3" id="jarquesbtn">
                        <button id="jarquesbtn" class="btn btn-primary">Jarques</button>
                    </div>

                    <div class="md-3" id="glowingsunbtn">
                        <button id="glowingsunbtn" class="btn btn-primary">Glowing Sun</button>
                    </div>

                    <div class="md-3" id="hazydaysbtn">
                        <button id="hazydaysbtn" class="btn btn-primary">Hazy Days</button>
                    </div>

                    <div class="md-3" id="hermajestybtn">
                        <button id="hermajestybtn" class="btn btn-primary">Her Majesty</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->

    <!-- Save Modal -->
    <div class="modal fade" id="saveModal" tabindex="-1" aria-labelledby="saveModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered modal-fullscreen-md-down">

            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="saveModalLabel">Save</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body px-4 ps-md-0 m-md-2">
                    <div class="row">
                        <div
                            class="col-12 col-md bg-secondary ps-md-0 ms-md-4 me-md-2 align-items-center justify-content-center d-flex image-preview">
                            Picture Preview
                        </div>
                        <div class="col align-items-center justify-content-center d-grid ">
                            <button class="btn btn-lg btn-primary px-4">Download</button>
                            <!-- <p class="fs-5 my-5">-- OR --</p> -->
                            <button class="btn btn-lg btn-primary">Save to Feed</button>
                            <button class="btn btn-lg btn-primary" data-bs-toggle="modal"
                                data-bs-target="#shareModal">Share</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Share Modal -->
    <div class="modal fade" id="shareModal" tabindex="-1" aria-labelledby="shareModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered modal-fullscreen-md-down">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="shareModalLabel">Share</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body px-4 ps-md-0 m-md-2">
                    <div class="row">
                        <div
                            class="col-12 col-md bg-secondary ps-md-0 ms-md-4 me-md-2 align-items-center justify-content-center d-flex image-preview">
                            Picture Preview
                        </div>
                        <div
                            class="col-12 col-md justify-content-between justify-content-md-around d-flex mt-5 mt-md-2 px-4 px-md-2 modal-buttons">
                            <div class="d-flex flex-column align-items-center">
                                <button class="btn btn-circle btn-primary btn-lg"><i
                                        class="bi bi-instagram icon-size"></i></button>
                                <label>Instagram</label>
                            </div>
                            <div class="d-flex flex-column align-items-center">
                                <button class="btn btn-circle btn-primary btn-lg"><i
                                    class="bi bi-linkedin icon-size"></i></button>
                                <label>LinkedIn</label>
                            </div>
                            <div class="d-flex flex-column align-items-center">
                                <button class="btn btn-circle btn-primary btn-lg"><i
                                    class="bi bi-facebook icon-size"></i></button>
                                <label>Facebook</label>
                            </div>
                            <div class="d-flex flex-column align-items-center">
                                <button class="btn btn-circle btn-primary btn-lg"><i
                                    class="bi bi-twitter icon-size"></i></button>
                                <label>Twitter</label>
                            </div>
                            <div class="d-flex flex-column align-items-center">
                                <button class="btn btn-circle btn-primary btn-lg" data-bs-toggle="modal"
                                data-bs-target="#saveModal"><i class="bi bi-download icon-size"></i></button>
                                <label>Download</label>
                            </div>
                            
                            

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- Scripts -->

    <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/camanjs/4.1.2/caman.full.min.js"></script>
    
    {% include 'manualEditing/sliderJs.html'%}
    
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
        integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
        integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
        crossorigin="anonymous"></script>
        {% include 'manualEditing/editingJs.html' %}
        {% include 'manualEditing/rightpanelJs.html' %}

    <script src="editing.js"></script>
    <script src="rightpanel.js"></script>
</body>

</html>